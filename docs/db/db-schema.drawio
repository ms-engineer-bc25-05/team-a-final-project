<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" version="28.2.9">
  <diagram id="ER1" name="ER Diagram">
    <mxGraphModel grid="0" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="1654" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="16" value="&lt;font style=&quot;color: rgb(255, 255, 255); background-color: rgb(77, 77, 77);&quot;&gt;&amp;nbsp;1 ─ N&amp;nbsp;&lt;/font&gt;" style="endArrow=block;html=1;fontSize=11;exitX=1.003;exitY=0.889;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="2">
          <mxGeometry x="0.8159" y="4" relative="1" as="geometry">
            <mxPoint x="327" y="395.1600000000001" as="sourcePoint" />
            <mxPoint x="835" y="470" as="targetPoint" />
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="13" value="&lt;font style=&quot;color: rgb(255, 255, 255); background-color: rgb(77, 77, 77);&quot;&gt;&amp;nbsp;1 ─ N&amp;nbsp;&lt;/font&gt;" style="endArrow=block;html=1;fontSize=11;" edge="1" parent="1">
          <mxGeometry x="0.84" y="-4" relative="1" as="geometry">
            <mxPoint x="329" y="335" as="sourcePoint" />
            <mxPoint x="829" y="336" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;USERS&lt;/font&gt;&lt;/b&gt;（Firebase認証連携ユーザー）&lt;hr&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;user_id (PK, string / Firebase UID)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;email (string)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;username (string)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;created_at (datetime)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;updated_at (datetime)&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="29" y="240" width="300" height="180" as="geometry" />
        </mxCell>
        <mxCell id="3" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;SURVEYS&lt;/font&gt;&lt;/b&gt;（アンケート回答）&lt;hr&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・id (PK, int)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;user_id (FK → USERS.user_id)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;l&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;ifestyle (enum: morning / night)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;free_time_weekday_start (time)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;free_time_weekday_end (time)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;free_time_weekend_start (time)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;free_time_weekend_end (time)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;interests (json)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;type_diagnosis (json)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;created_at (datetime)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;updated_at (datetime)&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="29" y="-40" width="300" height="240" as="geometry" />
        </mxCell>
        <mxCell id="4" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;MOODS&lt;/font&gt;&lt;/b&gt;（気分履歴）&lt;hr&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;id (PK, int)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;user_id (FK → USERS.user_id)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;mood (enum: happy / normal / tired)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;created_at (datetime)&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="409" y="49" width="340" height="150" as="geometry" />
        </mxCell>
        <mxCell id="5" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;SUGGESTIONS&lt;/font&gt;&lt;/b&gt;（提案履歴）&lt;hr&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;id (PK, int)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;user_id (FK → USERS.user_id)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;title (string)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;duration (int)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;type (string)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;source (enum: ai / rule)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;status (enum: proposed / skipped / started / completed)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;created_at (datetime)&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="409" y="240" width="340" height="180" as="geometry" />
        </mxCell>
        <mxCell id="6" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;TASKS&lt;/font&gt;&lt;/b&gt;（実行タスク）&lt;hr&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;id (PK, int)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;user_id (FK → USERS.user_id)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;suggestion_id (FK → SUGGESTIONS.id)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;started_at (datetime)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;ended_at (datetime, null)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;duration (int)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;experience_gained (int)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;total_experience (int)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;level (int)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;message (string)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;status (enum: in_progress / paused / completed)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;created_at (datetime)&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="829" y="160" width="360" height="260" as="geometry" />
        </mxCell>
        <mxCell id="7" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;RECORDS&lt;/font&gt;&lt;/b&gt;（達成記録・集計）&lt;hr&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;id (PK, int)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;user_id (FK → USERS.user_id)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;period_type (enum: daily / weekly / monthly)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;period_label (string)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;completed (int)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;total_experience (int)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;title (string)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;created_at (datetime)&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="409" y="460" width="340" height="180" as="geometry" />
        </mxCell>
        <mxCell id="8" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;PAYMENTS&lt;/font&gt;&lt;/b&gt;（決済履歴）&lt;hr&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;id (PK, int)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;user_id (FK → USERS.user_id)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;amount (int)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;status (string)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;card_last4 (string)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;expiry (string)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;raw_json (json)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;created_at (datetime)&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="29" y="460" width="300" height="180" as="geometry" />
        </mxCell>
        <mxCell id="9" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;SUBSCRIPTIONS&lt;/font&gt;&lt;/b&gt;（サブスクリプション状態）&lt;hr&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;id (PK, int)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;user_id (FK → USERS.user_id)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;plan (string)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;status (enum: active / canceled / past_due)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;current_period_end (datetime)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;・&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;created_at (datetime)&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="829" y="460" width="360" height="180" as="geometry" />
        </mxCell>
        <mxCell id="10" value="&lt;font style=&quot;color: rgb(255, 255, 255); background-color: rgb(77, 77, 77);&quot;&gt;&amp;nbsp;1 ─ 1&amp;nbsp;&lt;/font&gt;" style="endArrow=block;html=1;fontSize=11;" edge="1" parent="1" source="2" target="3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="11" value="&lt;font style=&quot;color: rgb(255, 255, 255); background-color: rgb(77, 77, 77);&quot;&gt;&amp;nbsp;1 ─ N&amp;nbsp;&lt;/font&gt;" style="endArrow=block;html=1;fontSize=11;entryX=0.018;entryY=0.954;entryDx=0;entryDy=0;exitX=0.977;exitY=0.049;exitDx=0;exitDy=0;exitPerimeter=0;entryPerimeter=0;" edge="1" parent="1" source="2" target="4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="12" value="&lt;font style=&quot;color: rgb(255, 255, 255); background-color: rgb(77, 77, 77);&quot;&gt;&amp;nbsp;1 ─ N&amp;nbsp;&lt;/font&gt;" style="endArrow=block;html=1;fontSize=11;entryX=0;entryY=0.375;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="329" y="308.02631578947376" as="sourcePoint" />
            <mxPoint x="399" y="307" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="14" value="&lt;font style=&quot;color: rgb(255, 255, 255); background-color: rgb(77, 77, 77);&quot;&gt;&amp;nbsp;1 ─ N&amp;nbsp;&lt;/font&gt;" style="endArrow=block;html=1;fontSize=11;exitX=0.977;exitY=0.957;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.023;entryY=0.043;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="2" target="7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="15" value="&lt;span style=&quot;background-color: rgb(77, 77, 77);&quot;&gt;&lt;font style=&quot;color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;1 ─ N&amp;nbsp;&lt;/font&gt;&lt;/span&gt;" style="endArrow=block;html=1;fontSize=11;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="178" y="420.00000000000045" as="sourcePoint" />
            <mxPoint x="178" y="459.99999999999955" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="17" value="&lt;font style=&quot;color: rgb(255, 255, 255); background-color: rgb(77, 77, 77);&quot;&gt;&amp;nbsp;1 ─ 1&amp;nbsp;&lt;/font&gt;" style="endArrow=block;html=1;fontSize=11;exitX=1;exitY=0.383;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="759" y="308.0270270270271" as="sourcePoint" />
            <mxPoint x="829" y="309" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gR_FwixMKCypRmzLXmAZ-21" value="&lt;h2 data-end=&quot;4896&quot; data-start=&quot;4882&quot;&gt;&amp;nbsp;　 リレーション概要&lt;/h2&gt;&lt;div class=&quot;_tableContainer_1rjym_1&quot;&gt;&lt;div class=&quot;group _tableWrapper_1rjym_13 flex w-fit flex-col-reverse&quot; tabindex=&quot;-1&quot;&gt;&lt;table class=&quot;w-fit min-w-(--thread-content-width)&quot; data-end=&quot;5195&quot; data-start=&quot;4898&quot;&gt;&lt;thead data-end=&quot;4909&quot; data-start=&quot;4898&quot;&gt;&lt;tr data-end=&quot;4909&quot; data-start=&quot;4898&quot;&gt;&lt;th data-col-size=&quot;sm&quot; data-end=&quot;4903&quot; data-start=&quot;4898&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;関 係&lt;/font&gt;&lt;/th&gt;&lt;th data-col-size=&quot;sm&quot; data-end=&quot;4909&quot; data-start=&quot;4903&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp; &lt;/font&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;内 容&lt;/font&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody data-end=&quot;5195&quot; data-start=&quot;4926&quot;&gt;&lt;tr data-end=&quot;4968&quot; data-start=&quot;4926&quot;&gt;&lt;td data-col-size=&quot;sm&quot; data-end=&quot;4952&quot; data-start=&quot;4926&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;code data-end=&quot;4935&quot; data-start=&quot;4928&quot;&gt;&amp;nbsp; &amp;nbsp;・users&lt;/code&gt;&lt;font style=&quot;color: rgb(204, 0, 102);&quot;&gt; &lt;b&gt;1 ─ 1&lt;/b&gt; &lt;/font&gt;&lt;code data-end=&quot;4951&quot; data-start=&quot;4942&quot;&gt;surveys&lt;/code&gt;&lt;/font&gt;&lt;/td&gt;&lt;td data-col-size=&quot;sm&quot; data-end=&quot;4968&quot; data-start=&quot;4952&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp; ユーザーのアンケート回答&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr data-end=&quot;5001&quot; data-start=&quot;4969&quot;&gt;&lt;td data-col-size=&quot;sm&quot; data-end=&quot;4993&quot; data-start=&quot;4969&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;code data-end=&quot;4978&quot; data-start=&quot;4971&quot;&gt;&amp;nbsp; &amp;nbsp;・users&lt;/code&gt;&lt;font style=&quot;color: rgb(204, 0, 102);&quot;&gt;&lt;b&gt; 1 ─ N&lt;/b&gt;&lt;/font&gt; &lt;code data-end=&quot;4992&quot; data-start=&quot;4985&quot;&gt;moods&lt;/code&gt;&lt;/font&gt;&lt;/td&gt;&lt;td data-col-size=&quot;sm&quot; data-end=&quot;5001&quot; data-start=&quot;4993&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp; 気分履歴&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr data-end=&quot;5040&quot; data-start=&quot;5002&quot;&gt;&lt;td data-col-size=&quot;sm&quot; data-end=&quot;5032&quot; data-start=&quot;5002&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;code data-end=&quot;5011&quot; data-start=&quot;5004&quot;&gt;&amp;nbsp; &amp;nbsp;・users&lt;/code&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(204, 0, 102);&quot;&gt; 1 ─ N&lt;/font&gt;&lt;/b&gt; &lt;code data-end=&quot;5031&quot; data-start=&quot;5018&quot;&gt;suggestions&lt;/code&gt;&lt;/font&gt;&lt;/td&gt;&lt;td data-col-size=&quot;sm&quot; data-end=&quot;5040&quot; data-start=&quot;5032&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp; 提案履歴&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr data-end=&quot;5081&quot; data-start=&quot;5041&quot;&gt;&lt;td data-col-size=&quot;sm&quot; data-end=&quot;5071&quot; data-start=&quot;5041&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;code data-end=&quot;5056&quot; data-start=&quot;5043&quot;&gt;&amp;nbsp; &amp;nbsp;・suggestions&lt;/code&gt; &lt;font style=&quot;color: rgb(204, 0, 102);&quot;&gt;&lt;b&gt;1 ─ 1&lt;/b&gt;&lt;/font&gt; &lt;code data-end=&quot;5070&quot; data-start=&quot;5063&quot;&gt;tasks&lt;/code&gt;&lt;/font&gt;&lt;/td&gt;&lt;td data-col-size=&quot;sm&quot; data-end=&quot;5081&quot; data-start=&quot;5071&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp; 実行中タスク&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr data-end=&quot;5116&quot; data-start=&quot;5082&quot;&gt;&lt;td data-col-size=&quot;sm&quot; data-end=&quot;5108&quot; data-start=&quot;5082&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;code data-end=&quot;5091&quot; data-start=&quot;5084&quot;&gt;&amp;nbsp; &amp;nbsp;・users&lt;/code&gt; &lt;font style=&quot;color: rgb(204, 0, 102);&quot;&gt;&lt;b&gt;1 ─ N&lt;/b&gt;&lt;/font&gt; &lt;code data-end=&quot;5107&quot; data-start=&quot;5098&quot;&gt;records&lt;/code&gt;&lt;/font&gt;&lt;/td&gt;&lt;td data-col-size=&quot;sm&quot; data-end=&quot;5116&quot; data-start=&quot;5108&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp; 達成記録&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr data-end=&quot;5152&quot; data-start=&quot;5117&quot;&gt;&lt;td data-col-size=&quot;sm&quot; data-end=&quot;5144&quot; data-start=&quot;5117&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;code data-end=&quot;5126&quot; data-start=&quot;5119&quot;&gt;&amp;nbsp; &amp;nbsp;・users&lt;/code&gt; &lt;font style=&quot;color: rgb(204, 0, 102);&quot;&gt;&lt;b&gt;1 ─ N&lt;/b&gt;&lt;/font&gt; &lt;code data-end=&quot;5143&quot; data-start=&quot;5133&quot;&gt;payments&lt;/code&gt;&lt;/font&gt;&lt;/td&gt;&lt;td data-col-size=&quot;sm&quot; data-end=&quot;5152&quot; data-start=&quot;5144&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp; 決済履歴&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr data-end=&quot;5195&quot; data-start=&quot;5153&quot;&gt;&lt;td data-col-size=&quot;sm&quot; data-end=&quot;5185&quot; data-start=&quot;5153&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;code data-end=&quot;5162&quot; data-start=&quot;5155&quot;&gt;&amp;nbsp; &amp;nbsp;・users&lt;/code&gt; &lt;font style=&quot;color: rgb(204, 0, 102);&quot;&gt;&lt;b&gt;1 ─ N&lt;/b&gt;&lt;/font&gt; &lt;code data-end=&quot;5184&quot; data-start=&quot;5169&quot;&gt;subscriptions&lt;/code&gt;&lt;/font&gt;&lt;/td&gt;&lt;td data-col-size=&quot;sm&quot; data-end=&quot;5195&quot; data-start=&quot;5185&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp; サブスク状態&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;rounded=0;strokeColor=none;strokeWidth=1;shadow=0;glass=0;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1224" y="426" width="400" height="210" as="geometry" />
        </mxCell>
        <mxCell id="gR_FwixMKCypRmzLXmAZ-22" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d80073;fontColor=#ffffff;strokeColor=#A50040;" vertex="1" parent="1">
          <mxGeometry x="1241" y="431" width="5" height="25" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
